{"version":3,"sources":["webpack:///./src/pages/search.jsx"],"names":["searchPage","props","_this","_React$Component","call","this","state","searchKey","window","location","search","substring","console","log","updateSearchKey","bind","_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_1___default","componentDidMount","componentWillUnmount","removeEventListener","componentDidUpdate","setState","render","react__WEBPACK_IMPORTED_MODULE_3___default","a","createElement","_components_Layout_Layout_jsx__WEBPACK_IMPORTED_MODULE_4__","_components_Banner_BannerResult_jsx__WEBPACK_IMPORTED_MODULE_6__","info","_components_Result_Result__WEBPACK_IMPORTED_MODULE_5__","React","Component"],"mappings":"uLAKMA,cACF,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OACfA,EAAAC,EAAAC,KAAAC,KAAMJ,IAANI,MACKC,MAAQ,CACTC,UAAWC,OAAOC,SAASC,OAAOC,UAAU,IAAM,IAGtDC,QAAQC,IAAI,aACZX,EAAKY,gBAAkBZ,EAAKY,gBAAgBC,KAArBC,IAAAd,IAPRA,sCAYnBe,kBAAA,WACIL,QAAQC,IAAI,YAGhBK,qBAAA,WACIV,OAAOW,oBAAoB,OAAQd,KAAKS,oBAG5CM,mBAAA,YAEmBZ,OAAOC,SAASC,OAAOC,UAAU,IAAM,KAC1CN,KAAKC,MAAMC,WAAaF,KAAKS,qBAG7CA,gBAAA,WACIF,QAAQC,IAAI,cACZR,KAAKgB,SAAS,CACVd,UAAWC,OAAOC,SAASC,OAAOC,UAAU,IAAM,QAI1DW,OAAA,WACI,OACIC,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACKd,QAAQC,IAAIR,MACbkB,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAcC,KAAM,CAAErB,UAAWF,KAAKC,MAAMC,aAC5CgB,EAAAC,EAAAC,cAACI,EAAA,EAAD,CAAQtB,UAAWF,KAAKC,MAAMC,iBAvCrBuB,IAAMC,WA6ChB/B","file":"component---src-pages-search-jsx-43007d62160499bbd92b.js","sourcesContent":["import React from \"react\"\nimport Layout from \"../components/Layout/Layout.jsx\"\nimport Result from \"../components/Result/Result\";\nimport BannerResult from \"../components/Banner/BannerResult.jsx\";\n\nclass searchPage extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            searchKey: window.location.search.substring(5) || '',\n        }\n\n        console.log(\"construct\")\n        this.updateSearchKey = this.updateSearchKey.bind(this)\n        // window.addEventListener('load', this.updateSearchKey)\n    }\n\n    // 统一处理url的变化，更新props, 监听不到的\n    componentDidMount() {\n        console.log(\"mount\")\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('load', this.updateSearchKey);\n    }\n\n    componentDidUpdate() {\n        // 没有watch手动监视\n        let _currUrl = window.location.search.substring(5) || ''\n        _currUrl != this.state.searchKey && this.updateSearchKey()\n    }\n\n    updateSearchKey() {\n        console.log('update key')\n        this.setState({\n            searchKey: window.location.search.substring(5) || ''\n        })\n    }\n\n    render() {\n        return (\n            <Layout>\n                {console.log(this)}\n                <BannerResult info={{ searchKey: this.state.searchKey }}></BannerResult>\n                <Result searchKey={this.state.searchKey}></Result>\n            </Layout>\n        )\n    }\n}\n\nexport default searchPage\n"],"sourceRoot":""}